<div class="row">
	<div class="col-lg-12">
		<h1 class="page-header">Repository</h1> 
	</div>

	<div class="col-lg-12">
	<div class="panel panel-default">
		<div class="panel-heading">
			<div align="left" style="float:left">
				File: {{currentFile}}
			</div>
			<div align="right">
				<div class="btn-group">
					<button type="button" class="btn btn-default btn-sm" style="margin:0px" ng-click="newFileWindow('newXMLFileDialog.html', 'NewFile.xml', '')">New File...</button>
					<button type="button" class="btn btn-default btn-sm" style="margin:0px" ng-click="uploadFileWindow()" >File upload...</button>
					<button type="button" class="btn btn-default btn-sm" style="margin:0px" ng-click="saveFile()" >Save File</button>
					<button type="button" class="btn btn-default btn-sm" style="margin:0px" ng-click="deleteFileWindow()">Delete File...</button>
					<button type="button" class="btn btn-default btn-sm" style="margin:0px" ng-click="newFileWindow('newFolderDialog.html', 'NewFolder', '')">Create Folder...</button>
					<button type="button" class="btn btn-default btn-sm" style="margin:0px" ng-click="uploadToCacheWindow()">Upload to Cache...</button>
				</div>
			</div>
		</div>
		<div class="panel-body" style="padding: 0px">
			<div class="col-md-2 tree-browser">
				<js-tree tree-events="select_node:nodeSelected" tree-data="scope" tree-model="treeModel"></js-tree>
			</div>
			
			<div class="col-md-10">
			  <div ui-ace="{
					  useWrapMode : true,
					  showGutter: true,
					  mode: 'xml',
					  firstLineNumber: 1,
					  onLoad: aceLoaded,
					  onChange: aceChanged
					}" ng-model="fileContent">
				</div>
			</div>
		</div>
	<div>
	</div>
</div>

<script type="text/ng-template" id="newFileDialog.html">
<div class="modal-header">
		<h3 class="modal-title">New File...</h3>
	</div>
	<div class="modal-body">
		<div class="form-group">
			<label>Filename</label>
			<input type="text" ng-model="fileName" class="form-control">
		</div>
	</div>

	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="ok()">OK</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</div>
</script>

<script type="text/ng-template" id="deleteFileDialog.html">
	<div class="modal-header">
		<h3 class="modal-title">Are you sure?</h3>
	</div>
	<div class="modal-body">
		
	</div>

	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="ok()">OK</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</script>
<script type="text/ng-template" id="createFolderDialog.html">
	<div class="modal-header">
		<h3 class="modal-title">New Folder...</h3>
	</div>
	<div class="modal-body">
		<div class="form-group">
			<label>Folder Name</label>
			<input type="text" ng-model="folderName" class="form-control">
		</div>
	</div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="ok()">OK</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</script>

<script type="text/ng-template" id="uploadFileDialog.html">
	<div class="modal-header">
		<h3 class="modal-title">Upload File..</h3>
	</div>
	<div class="modal-body">

		<form>
		<div class="form-group">
			<label>Choose Target Folder</label><br/>
				<js-tree tree-events="select_node:nodeSelected" tree-data="scope" tree-model="theTree"></js-tree>
			<label>File</label><input type="file" class="form-control">
		</div>
		</form>
		</div>
	</div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="ok()">OK</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</script>

<script type="text/ng-template" id="uploadToCacheDialog.html">
<div class="modal-header">
		<h3 class="modal-title">Upload to cache...</h3>
	</div>
	<div class="modal-body">
		<div class="form-group">
			<label>Cache ID</label>
			<input type="text" ng-model="cacheID" class="form-control">
			<label>Cache Key</label>
			<input type="text" ng-model="cacheKey" class="form-control">
		</div>
	</div>

	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="ok()">OK</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</div>
</script>